let init = () => {
  // Control menu
  let buttons = new Array().slice.call(document.querySelectorAll('.btn-aside'));
  let container = document.querySelector('#container');


  buttons.forEach((button) => {
    button.addEventListener('click', () => {
      let asideId = button.getAttribute('data-aside');
      let aside = document.querySelector(`#${asideId}`);


      let aberto = aside.className.includes('active') ? true : false;

      if (aberto) {
        fechaAsideEContainer(aside);
      } else {
        abreAsideEContainer(aside);
      }
    });
  });

  window.addEventListener('resize', (res) => {
    buttons.forEach((button) => {
      let asideId = button.getAttribute('data-aside');
      let aside = document.querySelector(`#${asideId}`);

      if (res.currentTarget.innerWidth < 760) {
        fechaAsideEContainer(aside);
      } else {
        abreAsideEContainer(aside);
      }
    });
  });

  function abreAsideEContainer(aside) {
    if (!aside) return;

    fechaAsideEContainer(aside);
    aside.className += ' active';
    container.className += ' active';
  }

  function fechaAsideEContainer(aside) {
    container.className = container.className.replace('active', '');
    if (!aside) return;
    aside.className = aside.className.replace('active', '');
  }
}

export { init };